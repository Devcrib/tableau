let Tableau=function(e={}){if(typeof t=="undefined"){if(typeof jQuery!="undefined")var t=jQuery;else throw ReferenceError("jQuery is required to use Tableau")}t.extend({minCellWidth:240,bordered:true,firstColumnWidth:null},e);t("table.tableau").each(function(l,i){let s,d,o,n,r,a,f=false;let u=t("<div></div>").addClass("tableau");let h=t("<div></div>").addClass("tableau-inner");let c=t(i).clone().removeClass("tableau");c.appendTo(h);h.appendTo(u);u.insertBefore(i);i.remove();m();u.scroll(function(e){if(!f)return;let l=t(this).scrollLeft();let i=t(this).scrollTop();d.css("top",i);n.css({left:l});if(l!=0)n.addClass("floating");else n.removeClass("floating")});function m(){d=t("thead",t(c));o=t("tbody",t(c));n=t("td:first-of-type",o);r=t("tr:first-of-type>th",d).length;a=t("th,td",u);c.addClass(e.bordered?"bordered":"");n.push(t("th:first-of-type",d)[0]);n.css({position:"relative",left:0});s=u.width()/r;s=s<e.minCellWidth?e.minCellWidth:s;a.css("min-width",s);o.css("marginTop",d.height());n.css({minWidth:e.firstColumnWidth==null?e.minCellWidth:e.firstColumnWidth});f=true}function p(){f=false;n.css({left:0}).removeClass("floating")}u[0].tableau={refresh:(l={})=>{t.extend(e,l);p();m()},styleOnly:p}})};if(typeof module!="undefined"&&module.exports)module.exports=Tableau;
